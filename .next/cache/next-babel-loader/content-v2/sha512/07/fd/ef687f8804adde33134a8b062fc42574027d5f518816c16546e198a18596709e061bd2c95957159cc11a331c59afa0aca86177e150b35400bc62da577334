{"ast":null,"code":"import _toConsumableArray from \"/mnt/a19a7a81-2191-4824-bf23-fd9050b0961e/WebstormProjects/pokelist/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/mnt/a19a7a81-2191-4824-bf23-fd9050b0961e/WebstormProjects/pokelist/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/mnt/a19a7a81-2191-4824-bf23-fd9050b0961e/WebstormProjects/pokelist/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"/mnt/a19a7a81-2191-4824-bf23-fd9050b0961e/WebstormProjects/pokelist/pages/pokemon/[pokemonName].tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  background-color: \", \";\\n  color: white;\\n  margin-top: 8px;\\n  padding: 8px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  margin: 8px 4px;\\n  padding: 16px;\\n  border: 1px solid \", \";\\n  .wrapper {\\n    display: flex;\\n    flex-direction: column;\\n    text-align: center;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useEffect, useState } from \"react\";\nimport PokemonContainer from \"../../containers/PokemonContainer/PokemonContainer\";\nimport styled from \"@emotion/styled\";\nimport \"react-responsive-modal/styles.css\";\nimport { Modal } from \"react-responsive-modal\";\nimport useLocalStorage from \"../../utils/useLocalStorage\";\nimport { toast } from \"react-toastify\";\nimport Button from \"../../components/Button/Button\";\nimport { BACKGROUND, BOX } from \"components/colors\";\nimport OverlayLoading from \"../../components/OverlayLoading/OverlayLoading\";\nvar Box = styled.div(_templateObject(), BOX.COLOR.border);\n_c = Box;\nvar ModalStyleSuccess = {\n  modal: {\n    background: BACKGROUND.COLOR.success\n  }\n};\nvar ModalStyleDanger = {\n  modal: {\n    background: BACKGROUND.COLOR.danger\n  }\n};\nvar AlertMessage = styled.p(_templateObject2(), BACKGROUND.COLOR.danger);\n_c2 = AlertMessage;\n\nvar Detail = function Detail(props) {\n  _s();\n\n  var _pokemonDetail$sprite, _pokemonDetail$sprite2;\n\n  var _useLocalStorage = useLocalStorage(\"ownedPokemon\", \"\"),\n      _useLocalStorage2 = _slicedToArray(_useLocalStorage, 2),\n      ownedPokemon = _useLocalStorage2[0],\n      setOwnedPokemon = _useLocalStorage2[1];\n\n  var _useState = useState(\"\"),\n      pokemonName = _useState[0],\n      setPokemonName = _useState[1];\n\n  var _useState2 = useState(false),\n      openSuccessModal = _useState2[0],\n      setOpenSuccessModal = _useState2[1];\n\n  var _useState3 = useState(false),\n      openFailModal = _useState3[0],\n      setOpenFailModal = _useState3[1];\n\n  var _useState4 = useState(\"\"),\n      alertMessage = _useState4[0],\n      setAlertMessage = _useState4[1];\n\n  var pokemonContainer = PokemonContainer.useContainer();\n  var fetchPokemonDetail = pokemonContainer.fetchPokemonDetail,\n      pokemonDetail = pokemonContainer.pokemonDetail,\n      fetchingPokemonDetail = pokemonContainer.fetchingPokemonDetail;\n  useEffect(function () {\n    fetchPokemonDetail(props.pokemonName);\n  }, []);\n\n  var handleCatchButtonClick = function handleCatchButtonClick() {\n    /**\n     *\n     * @param probabilityChance {number}, it is a number between 0 - 10 with 10 as 100%\n     */\n    var probability = function () {\n      var probabilityChance = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0.5;\n      return !!probabilityChance && Math.random() <= probabilityChance;\n    }();\n\n    if (probability) {\n      setOpenSuccessModal(true);\n    } else {\n      setOpenFailModal(true);\n    }\n  };\n\n  var renderModal = function renderModal() {\n    var savePokemon = function savePokemon() {\n      var isNickNameExist = function isNickNameExist() {\n        return ownedPokemon.some(function (item) {\n          return item.nickName === pokemonName;\n        });\n      };\n\n      if (ownedPokemon.length > 0 && isNickNameExist()) {\n        setAlertMessage(\"Duh lupa ya? kan yang namanya itu udah ada, coba nickname lain gih\");\n        return;\n      }\n\n      var catchedPokemon = {\n        name: pokemonDetail.name,\n        nickName: pokemonName,\n        image: pokemonDetail.sprites.front_default\n      };\n      setOwnedPokemon(function (prevState) {\n        if (prevState) {\n          return [].concat(_toConsumableArray(prevState), [catchedPokemon]);\n        }\n\n        return [catchedPokemon];\n      });\n      toast.success(\"Wah berhasil berhasil, cek profil anda gan!\", {\n        position: \"top-center\",\n        autoClose: 4000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n      setPokemonName(\"\");\n      setOpenSuccessModal(false);\n    };\n\n    return __jsx(React.Fragment, null, __jsx(Modal, {\n      styles: ModalStyleSuccess,\n      open: openSuccessModal,\n      onClose: function onClose() {\n        setPokemonName(\"\");\n        setOpenSuccessModal(false);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }\n    }, __jsx(\"h2\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }\n    }, \"Demi Apa??\"), __jsx(\"h3\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }\n    }, \"Kamu Berhasil Menangkapnya\"), __jsx(\"h4\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }\n    }, \"Beri pokemon mu nama tuan, biar semakin wantap wantap\"), __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }\n    }, __jsx(\"input\", {\n      type: \"text\",\n      value: pokemonName,\n      placeholder: \"Nama Pokemon mu tuan\",\n      onChange: function onChange(event) {\n        setAlertMessage(\"\");\n        setPokemonName(event.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }), __jsx(\"button\", {\n      onClick: savePokemon,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }\n    }, \"Simpan\")), alertMessage && __jsx(AlertMessage, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 28\n      }\n    }, alertMessage)), __jsx(Modal, {\n      styles: ModalStyleDanger,\n      open: openFailModal,\n      onClose: function onClose() {\n        return setOpenFailModal(false);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }\n    }, __jsx(\"h2\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }\n    }, \"Gagal\"), __jsx(\"h3\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }\n    }, \"Sayang sekali coba lagi sampai sayang,\"), __jsx(\"h3\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }\n    }, \"Eh sampai dapat maksudnya\")));\n  };\n\n  return __jsx(Box, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 5\n    }\n  }, renderModal(), !fetchingPokemonDetail && pokemonDetail && __jsx(\"div\", {\n    className: \"wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    src: pokemonDetail === null || pokemonDetail === void 0 ? void 0 : (_pokemonDetail$sprite = pokemonDetail.sprites) === null || _pokemonDetail$sprite === void 0 ? void 0 : _pokemonDetail$sprite.front_default,\n    alt: pokemonDetail === null || pokemonDetail === void 0 ? void 0 : (_pokemonDetail$sprite2 = pokemonDetail.sprites) === null || _pokemonDetail$sprite2 === void 0 ? void 0 : _pokemonDetail$sprite2.front_default,\n    height: 96,\n    width: 96,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, __jsx(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 15\n    }\n  }, \"Name\"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 15\n    }\n  }, pokemonDetail.name)), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }, __jsx(Button, {\n    onClick: handleCatchButtonClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 15\n    }\n  }, \"Catch\")), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  }, __jsx(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 15\n    }\n  }, \"Types\"), pokemonDetail.types.map(function (type) {\n    return __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 24\n      }\n    }, type.type.name);\n  })), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  }, __jsx(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 15\n    }\n  }, \"Moves\"), pokemonDetail.moves.map(function (move) {\n    return __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 24\n      }\n    }, move.move.name);\n  }))), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 11\n    }\n  })), fetchingPokemonDetail && __jsx(OverlayLoading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 33\n    }\n  }));\n};\n\n_s(Detail, \"2O8c92iEw8TuorqMoLubut5TAHI=\", false, function () {\n  return [useLocalStorage, PokemonContainer.useContainer];\n});\n\n_c3 = Detail;\nexport var __N_SSP = true;\nexport default Detail;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Box\");\n$RefreshReg$(_c2, \"AlertMessage\");\n$RefreshReg$(_c3, \"Detail\");","map":{"version":3,"sources":["/mnt/a19a7a81-2191-4824-bf23-fd9050b0961e/WebstormProjects/pokelist/pages/pokemon/[pokemonName].tsx"],"names":["React","useEffect","useState","PokemonContainer","styled","Modal","useLocalStorage","toast","Button","BACKGROUND","BOX","OverlayLoading","Box","div","COLOR","border","ModalStyleSuccess","modal","background","success","ModalStyleDanger","danger","AlertMessage","p","Detail","props","ownedPokemon","setOwnedPokemon","pokemonName","setPokemonName","openSuccessModal","setOpenSuccessModal","openFailModal","setOpenFailModal","alertMessage","setAlertMessage","pokemonContainer","useContainer","fetchPokemonDetail","pokemonDetail","fetchingPokemonDetail","handleCatchButtonClick","probability","probabilityChance","Math","random","renderModal","savePokemon","isNickNameExist","some","item","nickName","length","catchedPokemon","name","image","sprites","front_default","prevState","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","event","target","value","types","map","type","moves","move"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport PokemonContainer from \"../../containers/PokemonContainer/PokemonContainer\";\nimport styled from \"@emotion/styled\";\n\nimport { useRouter } from \"next/router\";\nimport \"react-responsive-modal/styles.css\";\nimport { Modal } from \"react-responsive-modal\";\nimport useLocalStorage from \"../../utils/useLocalStorage\";\nimport { toast } from \"react-toastify\";\nimport Button from \"../../components/Button/Button\";\nimport { BACKGROUND, BOX } from \"components/colors\";\nimport OverlayLoading from \"../../components/OverlayLoading/OverlayLoading\";\n\nconst Box = styled.div`\n  margin: 8px 4px;\n  padding: 16px;\n  border: 1px solid ${BOX.COLOR.border};\n  .wrapper {\n    display: flex;\n    flex-direction: column;\n    text-align: center;\n  }\n`;\n\nconst ModalStyleSuccess = {\n  modal: {\n    background: BACKGROUND.COLOR.success,\n  },\n};\n\nconst ModalStyleDanger = {\n  modal: {\n    background: BACKGROUND.COLOR.danger,\n  },\n};\n\nconst AlertMessage = styled.p`\n  background-color: ${BACKGROUND.COLOR.danger};\n  color: white;\n  margin-top: 8px;\n  padding: 8px;\n`;\n\nexport async function getServerSideProps(context) {\n  return {\n    props: {\n      pokemonName: context.query.pokemonName,\n    },\n  };\n}\n\nconst Detail = (props) => {\n  const [ownedPokemon, setOwnedPokemon] = useLocalStorage<string>(\n    \"ownedPokemon\",\n    \"\"\n  );\n  const [pokemonName, setPokemonName] = useState<string>(\"\");\n  const [openSuccessModal, setOpenSuccessModal] = useState<boolean>(false);\n  const [openFailModal, setOpenFailModal] = useState<boolean>(false);\n  const [alertMessage, setAlertMessage] = useState<string>(\"\");\n  const pokemonContainer = PokemonContainer.useContainer();\n  const {\n    fetchPokemonDetail,\n    pokemonDetail,\n    fetchingPokemonDetail,\n  } = pokemonContainer;\n  useEffect(() => {\n    fetchPokemonDetail(props.pokemonName);\n  }, []);\n\n  const handleCatchButtonClick = () => {\n    /**\n     *\n     * @param probabilityChance {number}, it is a number between 0 - 10 with 10 as 100%\n     */\n    const probability = ((probabilityChance: number = 0.5) => {\n      return !!probabilityChance && Math.random() <= probabilityChance;\n    })();\n    if (probability) {\n      setOpenSuccessModal(true);\n    } else {\n      setOpenFailModal(true);\n    }\n  };\n\n  const renderModal = () => {\n    const savePokemon = () => {\n      const isNickNameExist = () => {\n        return (ownedPokemon as any).some(\n          (item) => item.nickName === pokemonName\n        );\n      };\n      if (ownedPokemon.length > 0 && isNickNameExist()) {\n        setAlertMessage(\n          \"Duh lupa ya? kan yang namanya itu udah ada, coba nickname lain gih\"\n        );\n        return;\n      }\n      const catchedPokemon = {\n        name: pokemonDetail.name,\n        nickName: pokemonName,\n        image: pokemonDetail.sprites.front_default,\n      };\n\n      (setOwnedPokemon as any)((prevState) => {\n        if (prevState) {\n          return [...prevState, catchedPokemon];\n        }\n        return [catchedPokemon];\n      });\n      toast.success(\"Wah berhasil berhasil, cek profil anda gan!\", {\n        position: \"top-center\",\n        autoClose: 4000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n      setPokemonName(\"\");\n      setOpenSuccessModal(false);\n    };\n    return (\n      <>\n        <Modal\n          styles={ModalStyleSuccess}\n          open={openSuccessModal}\n          onClose={() => {\n            setPokemonName(\"\");\n            setOpenSuccessModal(false);\n          }}\n        >\n          <h2>Demi Apa??</h2>\n          <h3>Kamu Berhasil Menangkapnya</h3>\n          <h4>Beri pokemon mu nama tuan, biar semakin wantap wantap</h4>\n          <div>\n            <input\n              type=\"text\"\n              value={pokemonName}\n              placeholder={\"Nama Pokemon mu tuan\"}\n              onChange={(event) => {\n                setAlertMessage(\"\");\n                setPokemonName(event.target.value);\n              }}\n            />\n            <button onClick={savePokemon}>Simpan</button>\n          </div>\n          {alertMessage && <AlertMessage>{alertMessage}</AlertMessage>}\n        </Modal>\n        <Modal\n          styles={ModalStyleDanger}\n          open={openFailModal}\n          onClose={() => setOpenFailModal(false)}\n        >\n          <h2>Gagal</h2>\n          <h3>Sayang sekali coba lagi sampai sayang,</h3>\n          <h3>Eh sampai dapat maksudnya</h3>\n        </Modal>\n      </>\n    );\n  };\n\n  return (\n    <Box>\n      {renderModal()}\n      {!fetchingPokemonDetail && pokemonDetail && (\n        <div className=\"wrapper\">\n          <div>\n            <img\n              src={pokemonDetail?.sprites?.front_default}\n              alt={pokemonDetail?.sprites?.front_default}\n              height={96}\n              width={96}\n            />\n          </div>\n          <div>\n            <div>\n              <h2>Name</h2>\n              <p>{pokemonDetail.name}</p>\n            </div>\n            <div>\n              <Button onClick={handleCatchButtonClick}>Catch</Button>\n            </div>\n            <div>\n              <h2>Types</h2>\n              {pokemonDetail.types.map((type) => {\n                return <p>{type.type.name}</p>;\n              })}\n            </div>\n            <div>\n              <h2>Moves</h2>\n              {pokemonDetail.moves.map((move) => {\n                return <p>{move.move.name}</p>;\n              })}\n            </div>\n          </div>\n          <div></div>\n        </div>\n      )}\n      {fetchingPokemonDetail && <OverlayLoading />}\n    </Box>\n  );\n};\n\nexport default Detail;\n"]},"metadata":{},"sourceType":"module"}